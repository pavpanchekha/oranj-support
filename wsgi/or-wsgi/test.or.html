<!-- Generator: GNU source-highlight 2.11.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>
pr<b><font color="#0000FF">in</font></b>t = <b><font color="#0000FF">fn</font></b>(req) {
    io &lt;&lt; """
&lt;!DOCTYPE html&gt;
&lt;html&gt;
        &lt;head&gt;
                &lt;title&gt;Success!&lt;<font color="#990000">/</font>title&gt;"""

    io &lt;&lt; """&lt;style type="text<font color="#990000">/</font>css"&gt;

<font color="#990000">.</font>highlight {font<font color="#990000">-</font>family: "Courier New", "Vera Sans Mono", monospace;}
<font color="#990000">.</font>highlight <font color="#990000">.</font>se {col<b><font color="#0000FF">or</font></b>: rgb(170, 50, 50); font<font color="#990000">-</font>weight: bold;}

<font color="#990000">*</font> {
   marg<b><font color="#0000FF">in</font></b>: 0;
   padd<b><font color="#0000FF">in</font></b>g: 0;
}

h1 {
   b<b><font color="#0000FF">or</font></b>der<font color="#990000">-</font>bottom: 5px solid <i><font color="#9A1900">#4E9A06;</font></i>
   background: <i><font color="#9A1900">#8AE243;</font></i>
   padd<b><font color="#0000FF">in</font></b>g: 10px;
   font<font color="#990000">-</font>weight: 900;
   marg<b><font color="#0000FF">in</font></b><font color="#990000">-</font>bottom: 5px;
}

h2 {
   col<b><font color="#0000FF">or</font></b>: <i><font color="#9A1900">#4E9A06;</font></i>
   padd<b><font color="#0000FF">in</font></b>g: 5px;
   marg<b><font color="#0000FF">in</font></b>: 5px 0;
   b<b><font color="#0000FF">or</font></b>der<font color="#990000">-</font>bottom: 5px solid <i><font color="#9A1900">#4E9A06;</font></i>
}

<font color="#990000">.</font>highlight {
    marg<b><font color="#0000FF">in</font></b>: 5px;
    padd<b><font color="#0000FF">in</font></b>g: 5px;
    background: <i><font color="#9A1900">#CAFF87;</font></i>
}

p {
    marg<b><font color="#0000FF">in</font></b>: 5px;
}

table {
    marg<b><font color="#0000FF">in</font></b>: auto;
    width: 800px;
    b<b><font color="#0000FF">or</font></b>der<font color="#990000">-</font>collapse: collapse;
}

td {
    b<b><font color="#0000FF">or</font></b>der: 1px solid <i><font color="#9A1900">#4E9A06;</font></i>
    m<b><font color="#0000FF">in</font></b><font color="#990000">-</font>width: 300px;
    padd<b><font color="#0000FF">in</font></b>g: 3px;
}

th {
    padd<b><font color="#0000FF">in</font></b>g<font color="#990000">-</font>top: 10px;
}

"""

    <b><font color="#0000FF">try</font></b> {
        <b><font color="#0000FF">import</font></b> py<font color="#990000">.</font>pygments<font color="#990000">.</font>f<b><font color="#0000FF">or</font></b>matters<font color="#990000">.</font>HtmlF<b><font color="#0000FF">or</font></b>matter
        io &lt;&lt; HtmlF<b><font color="#0000FF">or</font></b>matter(style="perldoc")<font color="#990000">.</font>get_style_defs("<font color="#990000">.</font>highlight")
    } <b><font color="#0000FF">catch</font></b> {}

    io &lt;&lt; """
&lt;<font color="#990000">/</font>style&gt;
"""
                

    io &lt;&lt; """
        &lt;<font color="#990000">/</font>head&gt;
        &lt;body&gt;
                &lt;h1&gt;Success!&lt;<font color="#990000">/</font>h1&gt;
                &lt;p&gt;Th<b><font color="#0000FF">is</font></b> page <b><font color="#0000FF">is</font></b> be<b><font color="#0000FF">in</font></b>g served from <b><font color="#0000FF">or</font></b>anj<font color="#990000">.</font> Here's some <b><font color="#0000FF">in</font></b>fo about your server:&lt;<font color="#990000">/</font>p&gt;
                &lt;dl&gt;
                """

    io &lt;&lt; """&lt;table&gt;
   &lt;tbody&gt;"""

    io &lt;&lt; "&lt;tr&gt;&lt;th colspan='2'&gt;<b><font color="#0000FF">mod</font></b>_wsgi variables&lt;<font color="#990000">/</font>th&gt;&lt;<font color="#990000">/</font>tr&gt;"
   
    <b><font color="#0000FF">for</font></b> i <b><font color="#0000FF">in</font></b> req<font color="#990000">.</font>keys() {
        <b><font color="#0000FF">if</font></b> i<font color="#990000">.</font>startswith("<b><font color="#0000FF">mod</font></b>_wsgi") {
            io &lt;&lt; "&lt;tr&gt;&lt;td&gt;" &lt;&lt; i &lt;&lt; "&lt;<font color="#990000">/</font>td&gt;&lt;td&gt;" &lt;&lt; req[i] &lt;&lt; "&lt;<font color="#990000">/</font>td&gt;&lt;<font color="#990000">/</font>tr&gt;" &lt;&lt; endl
        }
    }

    io &lt;&lt; "&lt;tr&gt;&lt;th colspan='2'&gt;wsgi variables&lt;<font color="#990000">/</font>th&gt;&lt;<font color="#990000">/</font>tr&gt;"
    
    <b><font color="#0000FF">for</font></b> i <b><font color="#0000FF">in</font></b> req<font color="#990000">.</font>keys() {
        <b><font color="#0000FF">if</font></b> i<font color="#990000">.</font>startswith("wsgi") {
            io &lt;&lt; "&lt;tr&gt;&lt;td&gt;" &lt;&lt; i &lt;&lt; "&lt;<font color="#990000">/</font>td&gt;&lt;td&gt;" &lt;&lt; req[i] &lt;&lt; "&lt;<font color="#990000">/</font>td&gt;&lt;<font color="#990000">/</font>tr&gt;" &lt;&lt; endl
        }
    }

    io &lt;&lt; "&lt;tr&gt;&lt;th colspan='2'&gt;Environment variables&lt;<font color="#990000">/</font>th&gt;&lt;<font color="#990000">/</font>tr&gt;"
    
    <b><font color="#0000FF">for</font></b> i <b><font color="#0000FF">in</font></b> req<font color="#990000">.</font>keys() {
        <b><font color="#0000FF">if</font></b> <b><font color="#0000FF">not</font></b> i<font color="#990000">.</font>startswith("wsgi") <b><font color="#0000FF">and</font></b> <b><font color="#0000FF">not</font></b> i<font color="#990000">.</font>startswith("<b><font color="#0000FF">mod</font></b>_wsgi") {
            io &lt;&lt; "&lt;tr&gt;&lt;td&gt;" &lt;&lt; i &lt;&lt; "&lt;<font color="#990000">/</font>td&gt;&lt;td&gt;" &lt;&lt; req[i] &lt;&lt; "&lt;<font color="#990000">/</font>td&gt;&lt;<font color="#990000">/</font>tr&gt;" &lt;&lt; endl
        }
    }

    io &lt;&lt; "&lt;<font color="#990000">/</font>tbody&gt;&lt;<font color="#990000">/</font>table&gt;"

    io &lt;&lt; "&lt;p&gt; To complete a test of <b><font color="#0000FF">or</font></b>anj, add `&lt;code&gt;?fail=<b><font color="#0000FF">true</font></b>&lt;<font color="#990000">/</font>code&gt;` to the end of the URL <b><font color="#0000FF">and</font></b> make sure a ZeroDiv<b><font color="#0000FF">is</font></b>ionErr<b><font color="#0000FF">or</font></b> occurs &lt;<font color="#990000">/</font>p&gt;"
    
    io &lt;&lt; "&lt;h2&gt; The code that generated th<b><font color="#0000FF">is</font></b> page: &lt;<font color="#990000">/</font>h2&gt;"

    <b><font color="#0000FF">try</font></b> {
        <b><font color="#0000FF">import</font></b> py<font color="#990000">.</font>pygments<font color="#990000">.</font>highlight
        <b><font color="#0000FF">import</font></b> py<font color="#990000">.</font>pygments<font color="#990000">.</font>f<b><font color="#0000FF">or</font></b>matters<font color="#990000">.</font>HtmlF<b><font color="#0000FF">or</font></b>matter
        <b><font color="#0000FF">import</font></b> py<font color="#990000">.</font><b><font color="#0000FF">or</font></b>anj<font color="#990000">.</font>supp<b><font color="#0000FF">or</font></b>t<font color="#990000">.</font>pygments<font color="#990000">.</font>OranjLexer
        io &lt;&lt; highlight(file("hellow<b><font color="#0000FF">or</font></b>ld<font color="#990000">.</font><b><font color="#0000FF">or</font></b>")<font color="#990000">.</font>read(), OranjLexer(), HtmlF<b><font color="#0000FF">or</font></b>matter())
    } <b><font color="#0000FF">catch</font></b> {
        io &lt;&lt; """&lt;pre <b><font color="#0000FF">class</font></b>="highlight"&gt;""" &lt;&lt; file(req["FilePath"])<font color="#990000">.</font>read()<font color="#990000">.</font>replace("&lt;", "&amp;lt;") &lt;&lt; """&lt;<font color="#990000">/</font>pre&gt;"""
    }
    
    io &lt;&lt; """&lt;<font color="#990000">/</font>body&gt;
&lt;<font color="#990000">/</font>html&gt;
"""

    req["Content<font color="#990000">-</font>type"] = "text<font color="#990000">/</font>html"
}
</tt></pre>
